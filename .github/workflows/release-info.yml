name: Update Release Description

on:
  workflow_dispatch:
    inputs:
      release_tag:
        description: 'Versions-Tag (z.B. v1.0.0), der aktualisiert werden soll'
        required: true
        type: string
  release:
    types: [created]

jobs:
  update-release:
    runs-on: ubuntu-latest
    permissions:
      contents: write

    steps:
      - name: Update Release Body
        uses: softprops/action-gh-release@v2
        with:
          # Logik: Nimm den manuellen Input, falls vorhanden, sonst den Tag vom Release-Event
          tag_name: ${{ github.event.inputs.release_tag || github.event.release.tag_name }}
          append_body: true
          body: |

            ---
            ### ⚠️ HINWEIS ZUM ERSTEN START:
            Windows SmartScreen zeigt beim Start eventuell eine Warnung an. Dies liegt daran, dass die Datei nicht digital signiert ist.

            **Klicke auf "Weitere Informationen" -> "Trotzdem ausführen".**
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
